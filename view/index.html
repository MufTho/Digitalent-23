<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Antrian</title>
    <style>
        .antrian{
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .txt-antrian{
            font-size: 2rem;
            font-weight: bolder;
        }
    </style>
</head>
<body>
    <div class="antrian">
        <span id="txt-antrian" class="txt-antrian">
            {{ .antrian }}
        </span>
    </div>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-analytics.js"></script>

    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
            apiKey: "AIzaSyA1EaxWXesHVVnMIi_1BLuj94zWtDEST8I",
            authDomain: "digitelent-be-23.firebaseapp.com",
            databaseURL: "https://digitelent-be-23.firebaseio.com",
            projectId: "digitelent-be-23",
            storageBucket: "digitelent-be-23.appspot.com",
            messagingSenderId: "839963688225",
            appId: "1:839963688225:web:525a8da9e160468947d260",
            measurementId: "G-1JTJCEWPP4"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        let antrianRef = firebase.database().ref('antrian')
        antrianRef.on('value', function (snapshot){
            const antrian = snapshot.val();
            const currentAntrian = antrian.find(item => item != null && item.status === false)
            document.getElementById("txt-antrian").innerHTML = currentAntrian.id
        })
    </script>
</body>
</html>